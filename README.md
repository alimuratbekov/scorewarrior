# Навигация

Решения задач находятся в 2 директориях:
- sql - запросы и вывод
- notebooks - анализ результатов аб-теста в Jupyter-ноутбуках
  - dataset.py содержит код для загрузки и очистки датасета


# Секция SQL

### Где проводил анализ базы данных

- db-fiddle - postgresql
- Хотел на fiddle.clickhouse.com / sql.clickhouse.com, но мои данные туда не влезли
- Поднимать контейнер с clickhouse ради одноразовой базы данных как будто ту мач
- postgre и clickhouse очень схожи по диалекту. Важные отличия - non equi join и некоторые встроенные функции


### За какой период собраны данные

*Почему важно проверить даты?*
- Потому что в task 1.2 нужно посчитать количество платежей/логинов в течение 4 недель после установки
  - То есть нам нужно убедиться, что мы не берем установки, произошедшие позднее чем за 4 недели до последнего наблюдения

- Общие данные собраны с 1 мая по 14 декабря 2005 года
- Данные по установкам собраны с 1 мая по 31 октября


### Валидация данных

- Проверил количество записей по месяцам в разрезе ивентов - чтобы проверить аномалии
  - Увидел, что количество логинов значительно выросло в августе - ноябре

**Валидация количества пользователей по ивентам**
- installs -> logins
  - 371 installs
  - 306 logins
  - avg logins per user: 22
- installs -> payments
  - 371 installs
  - 33 payments
  - avg payments per user: 12
- logins -> installs
  - 306 logins
  - 306 installs
  - Lacking logged in users: 0
- payments -> installs
  - 126 payments
  - 33 installs
  - Lacking paying users: 93


# Секция A/B

### Валидация данных

Данные были предварительно очищены и предобработаны для работы со статистическими методами:
- Удалены дубликаты по платежам
- Удалены пользователи продублировавшиеся на обе группы

### Задача 1

Измерил эффект новой фичи с помощью классических методов. Для анализа использовались:
- Бутстрап - для сравнения ratio-метрик (ROAS, Average payment value)
- t-test - для сравнения средних (ARPU, Number of payments)
- Proportions Z-test - для сравнения конверсий (CR to payment)

### Задача 2

Реализована эмуляция мониторинга АБ-теста на исторических данных.
Показаны статистики по группам в течение всего периода эксперимента.
**Важно** - для конверсии не было указано окно расчета
Эффект измерялся байесовским методом. Показана динамика HDI и p(B > A)
